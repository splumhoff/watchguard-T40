#
ICP_ROOT=$(cd ../../../../../../..; pwd)
ICP_EXPORTS=$ICP_ROOT/../build
#
echo
echo ICP_ROOT    = $ICP_ROOT
echo ICP_EXPORTS = $ICP_EXPORTS
#
rm -f wg_fips
#
gcc -g -Wall -O1 \
-I$ICP_ROOT/include/ \
-I$ICP_ROOT/include/lac \
-I$ICP_ROOT/include/dc \
-I$ICP_ROOT/lookaside/access_layer/include \
-I$ICP_ROOT/lookaside/access_layer/src/sample_code/functional/include \
-I$ICP_ROOT/utilities/libusdm_drv// \
-DUSER_SPACE -DDO_CRYPTO -DWITH_UPSTREAM -DWITH_CMDRV \
../../common/cpa_sample_utils.c wg_fips.c wg_fips_main.c \
$ICP_EXPORTS/libqat.a \
$ICP_EXPORTS/libosal.a \
$ICP_EXPORTS/libadf.a \
$ICP_EXPORTS/libusdm_drv.a \
-lpthread -lcrypto -ludev -lrt -o wg_fips
#
echo
ls -l wg_fips
echo
